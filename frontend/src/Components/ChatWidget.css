.chat-fab{
  position:fixed;
  right:20px;
  bottom:20px;
  width:54px;
  height:54px;
  border-radius:50%;
  border:none;
  background:#1e88e5 !important;
  color: #ffffff !important;
  box-shadow:0 8px 20px rgba(0, 0, 0, 0.3);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  z-index:1000;
  transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
}

.chat-fab:hover{
  background:#1565c0 !important;
  transform: scale(1.05);
  box-shadow:0 10px 25px rgba(0, 0, 0, 0.4);
}

.chat-panel{
  position:fixed;
  right:20px;
  bottom:84px;
  width:340px;
  max-height:65vh;
  background:var(--color-card-bg);
  border:1px solid var(--color-border);
  border-radius:12px;
  box-shadow:0 10px 30px var(--color-shadow);
  display:flex;
  flex-direction:column;
  overflow:hidden;
  z-index:1000;
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

.chat-panel .header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;
  background:var(--color-primary);
  color: #ffffff !important;
}

.chat-panel .header .title{font-weight:700}

.chat-panel .body{
  padding:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
  overflow:auto;
  background:var(--color-surface);
  transition: background-color 0.3s ease;
}

.chat-panel .footer{
  display:flex;
  gap:8px;
  padding:10px;
  border-top:1px solid var(--color-border);
  background:var(--color-card-bg);
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

.chat-panel .input{
  flex:1;
  border:1px solid var(--color-border);
  border-radius:8px;
  padding:8px 10px;
  font-size:14px;
  background:var(--color-input-bg);
  color:var(--color-input-text);
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

.bubble{
  padding:8px 10px;
  border-radius:12px;
  max-width:80%;
  white-space:pre-wrap;
  line-height:1.35;
}

.row{display:flex}
.row.user{justify-content:flex-end}
.row.bot{justify-content:flex-start}

.bubble.user{
  background:var(--color-primary);
  color: #ffffff !important;
  border-bottom-right-radius:4px;
}

.bubble.bot{
  background:var(--color-surface);
  color:var(--color-text);
  border-bottom-left-radius:4px;
  border:1px solid var(--color-border);
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 767px) {
  .chat-fab { right: 15px; bottom: 15px; width: 50px; height: 50px; font-size: 18px; }
  .chat-panel { right: 10px; bottom: 75px; width: calc(100vw - 20px); max-width: 340px; max-height: 60vh; }
}

@media (max-width: 480px) {
  .chat-fab { right: 12px; bottom: 12px; width: 48px; height: 48px; font-size: 16px; }
  .chat-panel { right: 5px; bottom: 68px; width: calc(100vw - 10px); max-height: 55vh; border-radius: 10px; }
  .chat-panel .header { padding: 8px 10px; font-size: 0.9rem; }
  .chat-panel .body { padding: 8px; gap: 6px; }
  .chat-panel .footer { padding: 8px; gap: 6px; }
  .chat-panel .input { padding: 7px 9px; font-size: 13px; }
  .bubble { padding: 7px 9px; max-width: 85%; font-size: 0.9rem; }
}

.loading{
  font-size:12px;
  color:var(--color-text-muted);
}

.error-mini{
  color:#b91c1c;
  background:rgba(220, 38, 38, 0.1);
  border:1px solid rgba(220, 38, 38, 0.3);
  border-radius:6px;
  padding:6px 8px;
  font-size:12px;
}
